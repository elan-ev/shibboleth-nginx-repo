<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Shibboleth packages repository</title>
    <!--
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    -->
  </head>
  <body>
    <main>
        <h1>Shibboleth packages repository</h1>
        To use Shibboleth with Nginx as reverse proxy for your application you need an Nginx shibboleth module and shibboleth build with FastCGI support. Both is not part of common Linux distributions but is available as source on <a href="https://github.com/nginx-shib/nginx-http-shibboleth">GitHub</a>. Here we provide this packages for you. They are build from original sources. To prevent name collision with official shibboleth package we renamed our build to <code>shibboleth-fastcgi</code>.

        <h1>How to install</h1>
        Run this commands to install shibboleth daemon and Nginx modules.<br>

        <h2>Installation on RedHat Linux 7</h2>
        <code>
          # Install Shibboleth's recommended Service Provider repo as per<br>
          # <a href="https://shibboleth.net/downloads/service-provider/RPMS/">https://shibboleth.net/downloads/service-provider/RPMS/</a><br>
          cat <<-EOF > /etc/yum.repos.d/shibboleth.repo<br>
          [shibboleth]<br>
          name=Shibboleth (CentOS_7)<br>
          # Please report any problems to https://shibboleth.atlassian.net/jira<br>
          type=rpm-md<br>
          mirrorlist=https://shibboleth.net/cgi-bin/mirrorlist.cgi/CentOS_7<br>
          gpgcheck=1<br>
          gpgkey=https://shibboleth.net/downloads/service-provider/RPMS/repomd.xml.key<br>
          &nbsp &nbsp &nbsp &nbsp https://shibboleth.net/downloads/service-provider/RPMS/cantor.repomd.xml.key<br>
          enabled=1<br>
          EOF<br>
          <br>
          # Import Shibboleth's GPG keys<br>
          rpm --import https://shibboleth.net/downloads/service-provider/RPMS/repomd.xml.key<br>
          rpm --import https://shibboleth.net/downloads/service-provider/RPMS/cantor.repomd.xml.key<br>
          <br>
          # Install Shibboleth-nginx repository<br>
          cat <<-EOF > /etc/yum.repos.d/shibboleth-nginx.repo<br>
          [shibboleth-nginx]<br>
          name=Shibboleth Nginx packages - RHEL\$releasever<br>
          baseurl=https://elan-ev.github.io/shibboleth-nginx-repo/rhel/\$releasever/<br>
          gpgcheck=1<br>
          gpgkey=https://elan-ev.github.io/shibboleth-nginx-repo/gpgkey.asc<br>
          enabled=1<br>
          EOF<br>
          <br>
          rpm --import https://elan-ev.github.io/shibboleth-nginx-repo/gpgkey.asc<br>
          # Install Shibboleth Service Provider daemon and Nginx<br>
          yum install -y epel-release<br>
          yum install -y shibboleth-fastcgi nginx nginx-mod-http-shibboleth<br>
        </code>

        <h2>Installation on RedHat Linux 8</h2>
        <code>
          # Install Shibboleth's recommended Service Provider repo as per<br>
          # <a href="https://shibboleth.net/downloads/service-provider/RPMS/">https://shibboleth.net/downloads/service-provider/RPMS/</a><br>
          cat <<-EOF > /etc/yum.repos.d/shibboleth.repo<br>
          [shibboleth]<br>
          name=Shibboleth (CentOS_8)<br>
          # Please report any problems to https://shibboleth.atlassian.net/jira<br>
          type=rpm-md<br>
          mirrorlist=https://shibboleth.net/cgi-bin/mirrorlist.cgi/CentOS_8<br>
          gpgcheck=1<br>
          gpgkey=https://shibboleth.net/downloads/service-provider/RPMS/repomd.xml.key<br>
          &nbsp &nbsp &nbsp &nbsp https://shibboleth.net/downloads/service-provider/RPMS/cantor.repomd.xml.key<br>
          enabled=1<br>
          EOF<br>
          <br>
          # Import Shibboleth's GPG keys<br>
          rpm --import https://shibboleth.net/downloads/service-provider/RPMS/repomd.xml.key<br>
          rpm --import https://shibboleth.net/downloads/service-provider/RPMS/cantor.repomd.xml.key<br>
          <br>
          # Install Shibboleth-nginx repository<br>
          cat <<-EOF > /etc/yum.repos.d/shibboleth-nginx.repo<br>
          [shibboleth-nginx]<br>
          name=Shibboleth Nginx packages - RHEL\$releasever<br>
          baseurl=https://elan-ev.github.io/shibboleth-nginx-repo/rhel/\$releasever/<br>
          gpgcheck=1<br>
          gpgkey=https://elan-ev.github.io/shibboleth-nginx-repo/gpgkey.asc<br>
          enabled=1<br>
          EOF<br>
          <br>
          rpm --import https://elan-ev.github.io/shibboleth-nginx-repo/gpgkey.asc<br>
          # Install Shibboleth Service Provider daemon and Nginx<br>
          dnf install -y epel-release<br>
          dnf install -y shibboleth-fastcgi nginx nginx-mod-http-shibboleth<br>
        </code>

        <h2>Installation on RedHat Linux 9</h2>
        <code>
          # Install Shibboleth's recommended Service Provider repo as per<br>
          # <a href="https://shibboleth.net/downloads/service-provider/RPMS/">https://shibboleth.net/downloads/service-provider/RPMS/</a><br>
          cat <<-EOF > /etc/yum.repos.d/shibboleth.repo<br>
          [shibboleth]<br>
          name=Shibboleth (rockylinux9)<br>
          # Please report any problems to https://shibboleth.atlassian.net/jira<br>
          type=rpm-md<br>
          mirrorlist=https://shibboleth.net/cgi-bin/mirrorlist.cgi/rockylinux9<br>
          gpgcheck=1<br>
          gpgkey=https://shibboleth.net/downloads/service-provider/RPMS/repomd.xml.key<br>
          &nbsp &nbsp &nbsp &nbsp https://shibboleth.net/downloads/service-provider/RPMS/cantor.repomd.xml.key<br>
          enabled=1<br>
          EOF<br>
          <br>
          # Import Shibboleth's GPG keys<br>
          rpm --import https://shibboleth.net/downloads/service-provider/RPMS/repomd.xml.key<br>
          rpm --import https://shibboleth.net/downloads/service-provider/RPMS/cantor.repomd.xml.key<br>
          <br>
          # Install Shibboleth-nginx repository<br>
          cat <<-EOF > /etc/yum.repos.d/shibboleth-nginx.repo<br>
          [shibboleth-nginx]<br>
          name=Shibboleth Nginx packages - RHEL\$releasever<br>
          baseurl=https://elan-ev.github.io/shibboleth-nginx-repo/rhel/\$releasever/<br>
          gpgcheck=1<br>
          gpgkey=https://elan-ev.github.io/shibboleth-nginx-repo/gpgkey.asc<br>
          enabled=1<br>
          EOF<br>
          <br>
          rpm --import https://elan-ev.github.io/shibboleth-nginx-repo/gpgkey.asc<br>
          # Install Shibboleth Service Provider daemon and Nginx<br>
          dnf install -y epel-release<br>
          dnf install -y shibboleth-fastcgi nginx nginx-mod-http-shibboleth<br>
        </code>

        <h2>Installation on Debian Linux</h2>
        <p>
          Shibboleth service provider (SP) application is delivered by Debian itself. The missing Shibboleth Nginx module is provided by this repository. Following steps describes the installation on Debian Bookworm.<br>
        </p>
        <code>
          # Install Shibboleth Nginx module repository<br>
          apt install -y wget <br>
          wget -O /etc/apt/trusted.gpg.d/nginx-mod-shibboleth.asc https://elan-ev.github.io/shibboleth-nginx-repo/gpgkey.asc<br>
          cat <<-EOF > /etc/apt/sources.list.d/nginx-mod-shibboleth.list<br>
          deb https://elan-ev.github.io/shibboleth-nginx-repo/debian/bookworm bookworm non-free<br>
          EOF<br>
          apt update<br>
          # Install Shibboleth Nginx module<br>
          apt install -y nginx libnginx-mod-http-shibboleth<br>
        </code>

        <h2>Installation on Ubuntu Linux</h2>
        <p>
          Shibboleth service provider (SP) application is delivered by Ubuntu itself. The missing Shibboleth Nginx module is provided by this repository. Following steps describes the installation on Ubuntu Jammy. But you can also install it on different Ubuntu versions replacing the codename.<br>
        </p>
        <code>
          # Install Shibboleth Nginx module repository<br>
          apt install -y wget <br>
          wget -O /etc/apt/trusted.gpg.d/nginx-mod-shibboleth.asc https://elan-ev.github.io/shibboleth-nginx-repo/gpgkey.asc<br>
          cat <<-EOF > /etc/apt/sources.list.d/nginx-mod-shibboleth.list<br>
          deb https://elan-ev.github.io/shibboleth-nginx-repo/ubuntu/jammy jammy multiverse<br>
          EOF<br>
          apt update<br>
          # Install Shibboleth Nginx module<br>
          apt install -y nginx libnginx-mod-http-shibboleth<br>
        </code>
    </main>
  </body>
</html>
